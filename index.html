<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valentine</title>
</head>
<body style="margin:0">

<div id="valentine-scope">
  <style>
    /* â–¼â–¼â–¼ è¨­å®š: ã“ã®ã¾ã¾ã®ã‚³ãƒ¼ãƒ‰ã§OKã§ã™ â–¼â–¼â–¼
      æ¨ªé•·ã®ãƒãƒŠãƒ¼ç”»åƒå…¨ä½“ã‚’ã€æ å†…ã«ãã‚Œã„ã«åã‚ã‚‹è¨­å®šã«ãªã£ã¦ã„ã¾ã™ã€‚
    */
    
    #valentine-scope {
      --v-bg: #0b1020;
      --v-text: #eef2ff;
      --v-muted: #b8c0dd;
      --v-accent1: #ff66b2;
      --v-accent2: #7c8cff;

      font-family: ui-sans-serif, system-ui, -apple-system, sans-serif;
      color: var(--v-text);
      background:
        radial-gradient(900px 520px at 20% 10%, rgba(255,102,178,.35) 0%, rgba(255,102,178,0) 60%),
        radial-gradient(900px 520px at 80% 25%, rgba(124,140,255,.35) 0%, rgba(124,140,255,0) 55%),
        linear-gradient(180deg, #0b1020 0%, #060a14 100%);
      
      position: relative;
      width: 100%;
      height: 100%;
      min-height: 500px;
      margin: 0;
      border-radius: 12px;
      overflow: hidden;
      isolation: isolate;
      display: flex;
      flex-direction: column;
    }

    #valentine-scope * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    #valentine-scope .scroll-area {
      flex: 1;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      padding: 20px 16px 80px;
    }

    #valentine-scope .topbar {
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      margin-bottom: 20px;
    }

    #valentine-scope .title {
      font-size: 18px;
      font-weight: 700;
      margin:0;
      line-height:1.3;
      background: linear-gradient(90deg, #fff, #b8c0dd);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    #valentine-scope .subtitle {
      color: var(--v-muted);
      font-size: 12px;
      margin-top: 4px;
    }

    #valentine-scope .chip {
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      border-radius: 999px;
      padding: 4px 8px;
      font-size: 10px;
      color: var(--v-muted);
      flex-shrink: 0;
    }

    #valentine-scope .stepRow {
      display:flex;
      align-items:center;
      gap: 10px;
      margin-bottom: 12px;
    }

    #valentine-scope .bar {
      height: 6px;
      border-radius: 999px;
      background: rgba(255,255,255,.1);
      flex: 1;
      overflow: hidden;
    }
    #valentine-scope .bar > div {
      height:100%;
      background: linear-gradient(90deg, #ff66b2, #7c8cff);
      transition: width .4s ease;
    }

    #valentine-scope .card {
      border:1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(30,41,59,.6), rgba(15,23,42,.4));
      backdrop-filter: blur(12px);
      border-radius: 16px;
      padding: 16px;
      animation: val-slideUp .4s ease;
    }

    #valentine-scope .q {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 16px;
      line-height: 1.5;
    }

    #valentine-scope .choiceBtn {
      display:flex;
      align-items:center;
      gap:12px;
      border:1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.03);
      color: var(--v-text);
      padding: 14px;
      border-radius: 12px;
      width: 100%;
      cursor:pointer;
      text-align:left;
      font-size: 14px;
      margin-bottom: 8px;
      transition: .2s;
    }
    #valentine-scope .choiceBtn:hover {
      background: rgba(255,255,255,.08);
    }
    #valentine-scope .dot {
      width: 8px; height:8px;
      border-radius: 50%;
      background: linear-gradient(135deg, #ff66b2, #7c8cff);
      flex-shrink: 0;
    }

    #valentine-scope .resultTitle {
      font-size: 18px;
      font-weight: 800;
      margin-bottom: 10px;
      background: linear-gradient(90deg, #ff9ecf, #aeb8ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    #valentine-scope .resultBody {
      font-size: 14px;
      line-height: 1.7;
      margin-bottom: 16px;
    }
    #valentine-scope .recCard {
      border:1px solid rgba(255,255,255,.1);
      background: rgba(255,255,255,.05);
      border-radius: 12px;
      padding: 10px;
      margin-bottom: 8px;
      display: flex;
      gap: 12px;
      align-items: center;
    }
    
    /* â–¼â–¼â–¼ ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®ã‚¹ã‚¿ã‚¤ãƒ« â–¼â–¼â–¼ */
    #valentine-scope .avatar {
      width: 80px;       /* æ¨ªå¹… */
      height: 60px;      /* é«˜ã• */
      border-radius: 8px;
      background: rgba(255,255,255,0.05);
      object-fit: contain; /* ç”»åƒå…¨ä½“ã‚’åˆ‡ã‚‰ãšã«åã‚ã‚‹ */
      object-position: center;
      flex-shrink: 0;
    }
    /* â–²â–²â–² ã“ã“ã¾ã§ â–²â–²â–² */

    #valentine-scope .ctaBtn {
      display: inline-block;
      text-decoration: none;
      background: linear-gradient(90deg, #ff66b2, #7c8cff);
      color: white;
      padding: 8px 12px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: bold;
      flex-shrink: 0;
      white-space: nowrap;
    }

    #valentine-scope .bottomBar {
      position: absolute;
      left: 0; right: 0; bottom: 0;
      padding: 12px;
      background: rgba(11, 16, 32, .95);
      border-top: 1px solid rgba(255,255,255,.08);
      display: flex;
      gap: 10px;
      z-index: 10;
    }
    #valentine-scope .navBtn {
      flex: 1;
      border-radius: 10px;
      padding: 10px;
      border: 1px solid rgba(255,255,255,.15);
      background: rgba(255,255,255,.05);
      color: var(--v-text);
      cursor:pointer;
      font-weight: 600;
      font-size: 13px;
    }
    #valentine-scope .navBtn:disabled { opacity: 0.3; }

    @keyframes val-slideUp { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }
  </style>

  <div class="scroll-area">
    <div class="topbar">
      <div>
        <h1 class="title">Love Psychology ğŸ«</h1>
        <div class="subtitle">ãƒãƒ¬ãƒ³ã‚¿ã‚¤ãƒ³ç›´å‰ã€‚<br>ä»Šã®ã‚ãªãŸã®ã€Œæ”»ã‚æ–¹ã€è¨ºæ–­</div>
      </div>
      <div class="chip">30ç§’</div>
    </div>

    <div id="val-app">
            <div class="card">
              <div class="stepRow"><div style="font-size:12px;color:#b8c0dd">Q.1</div><div class="bar"><div style="width:0%"></div></div></div>
              <div class="q">ãƒãƒ¬ãƒ³ã‚¿ã‚¤ãƒ³å½“æ—¥ã€ç†æƒ³ã®ãƒ ãƒ¼ãƒ–ã¯ï¼Ÿ</div>
              <button class="choiceBtn" data-idx="0"><div class="dot"></div>ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆã«æ¸¡ã—ã¦ã€ä¸€è¨€æ·»ãˆã‚‹</button><button class="choiceBtn" data-idx="1"><div class="dot"></div>è»½ã„ãƒãƒªã§æ¸¡ã—ã¦ã€åå¿œã‚’è¦‹ã‚‹</button><button class="choiceBtn" data-idx="2"><div class="dot"></div>å½“æ—¥ã¯æ§˜å­è¦‹ã€‚åˆ¥æ—¥ã«æ¸¡ã—ãŸã„</button>
            </div></div>
  </div>

  <div class="bottomBar">
    <button class="navBtn" id="val-backBtn" disabled="">æˆ»ã‚‹</button>
    <button class="navBtn" id="val-resetBtn">æœ€åˆã‹ã‚‰</button>
  </div>

  <script>
    (function(){
      const questions = [
        { text: "ãƒãƒ¬ãƒ³ã‚¿ã‚¤ãƒ³å½“æ—¥ã€ç†æƒ³ã®ãƒ ãƒ¼ãƒ–ã¯ï¼Ÿ", choices: [{l:"ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆã«æ¸¡ã—ã¦ã€ä¸€è¨€æ·»ãˆã‚‹",s:{A:2}},{l:"è»½ã„ãƒãƒªã§æ¸¡ã—ã¦ã€åå¿œã‚’è¦‹ã‚‹",s:{B:2}},{l:"å½“æ—¥ã¯æ§˜å­è¦‹ã€‚åˆ¥æ—¥ã«æ¸¡ã—ãŸã„",s:{C:2}}] },
        { text: "ãƒãƒ§ã‚³ã‚’é¸ã¶ãªã‚‰ã©ã‚Œï¼Ÿ", choices: [{l:"é™å®šãƒ»æ–°ä½œãƒ»è©±é¡Œã®ã‚„ã¤ï¼ˆå‹¢ã„ï¼ï¼‰",s:{A:2}},{l:"ä¸Šå“ã§å¤§äººã£ã½ã„ã€ã¡ã‚‡ã„ãƒ“ã‚¿ãƒ¼ç³»",s:{B:2}},{l:"å®šç•ªã®å®‰å¿ƒæ„Ÿã€‚ãƒŸãƒ«ã‚¯ç³»ã§ã»ã£ã¨ã™ã‚‹",s:{C:2}}] },
        { text: "æ°—ã«ãªã‚‹äººã‹ã‚‰è¿”ä¿¡ãŒé…ã„ã¨ãã¯ï¼Ÿ", choices: [{l:"å¾…ã¤ã‚ˆã‚Šå‹•ãã€‚è»½ãè¿½ã„ãƒ¡ãƒƒã‚»ã™ã‚‹",s:{A:2}},{l:"æ—¢èª­/æœªèª­ã‚„ç©ºæ°—ã‚’è¦‹ã¦èª¿æ•´",s:{B:2}},{l:"ç›¸æ‰‹ã®ãƒšãƒ¼ã‚¹ãŒã‚ã‚‹ã—â€¦ã¨ä¸€æ—¦è½ã¡ç€ã",s:{C:2}}] },
        { text: "è·é›¢ã‚’ç¸®ã‚ã‚‹ã¨ãã«å¤§äº‹ãªã®ã¯ï¼Ÿ", choices: [{l:"å‹¢ã„ã¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°ï¼ˆãƒãƒ£ãƒ³ã‚¹ã¯æ´ã‚€ï¼‰",s:{A:2}},{l:"é§†ã‘å¼•ãã˜ã‚ƒãªãâ€œç©ºæ°—ã®èª­ã¿åˆã„â€",s:{B:2}},{l:"ä¿¡é ¼ã€‚ã‚†ã£ãã‚Šã§ã‚‚ç¢ºå®Ÿã«è¿‘ã¥ããŸã„",s:{C:2}}] },
        { text: "æ¸¡ã™ãªã‚‰ã©ã‚“ãªå½¢ãŒã—ã£ãã‚Šãã‚‹ï¼Ÿ", choices: [{l:"ç›´æ¥æ¸¡ã™ï¼çŸ­ãã¦ã‚‚è¨€è‘‰ã‚’æ·»ãˆã‚‹",s:{A:2}},{l:"ã•ã‚Šã’ãªãã€‚äºŒäººãã‚Šã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§",s:{B:2}},{l:"æ‰‹ç´™ or ãƒ¡ãƒ¢ã§æ°—æŒã¡ã‚’ä¸å¯§ã«ä¼ãˆã‚‹",s:{C:2}}] }
      ];

      const results = {
        A: { title: "æ”»ã‚ã‚¹ã‚¤ãƒ¼ãƒˆã‚¿ã‚¤ãƒ— ğŸ“", body: "å¥½ãã«ãªã£ãŸã‚‰ç´ ç›´ã«è¡Œã‘ã‚‹ã‚¿ã‚¤ãƒ—ã€‚æ‹ã¯â€œæµã‚Œâ€ã‚ˆã‚Šâ€œä¸€æ‰‹â€ã§å‹•ã‹ã™ã®ãŒå¾—æ„ã§ã™ã€‚å‹¢ã„ã®ã¾ã¾è©°ã‚ã™ããªã„ã®ãŒãƒã‚¤ãƒ³ãƒˆã€‚", tip: "ğŸ’¡ ãŠã™ã™ã‚ã®ä¸€æ‰‹ï¼šã€ã“ã®ã‚ã¨å°‘ã—ã ã‘æ™‚é–“ã‚ã‚‹ï¼Ÿã€ã¨è»½ã„ææ¡ˆã‚’ã€‚" },
        B: { title: "é§†ã‘å¼•ããƒ“ã‚¿ãƒ¼ã‚¿ã‚¤ãƒ— â˜•", body: "ç›¸æ‰‹ã®æ¸©åº¦æ„Ÿã‚’èª­ã¿ãªãŒã‚‰ã€ã¡ã‚‡ã†ã©ã„ã„è·é›¢ã«åˆã‚ã›ã‚‰ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã€‚è€ƒãˆã™ãã¦å‹•ã‘ãªããªã‚‰ãªã„ã‚ˆã†ã«æ³¨æ„ã€‚", tip: "ğŸ’¡ ãŠã™ã™ã‚ã®ä¸€æ‰‹ï¼šã€ä¼šãˆãŸã‚‰æ¸¡ã—ãŸã„ã‚‚ã®ãŒã‚ã‚‹ã€ã¨å«ã¿ã‚’æŒãŸã›ã¦ã€‚" },
        C: { title: "ã˜ã£ãã‚ŠãƒŸãƒ«ã‚¯ã‚¿ã‚¤ãƒ— ğŸ¥›", body: "å®‰å¿ƒæ„Ÿã¨èª å®Ÿã•ã§è·é›¢ã‚’ç¸®ã‚ã‚‹ã‚¿ã‚¤ãƒ—ã€‚ç›¸æ‰‹ã®å¿ƒã‚’å¤§åˆ‡ã«æ‰±ãˆã‚‹ã®ãŒé­…åŠ›ã§ã™ã€‚é æ…®ã—ã™ãã¦ãƒãƒ£ãƒ³ã‚¹ã‚’é€ƒã•ãªã„ã§ã€‚", tip: "ğŸ’¡ ãŠã™ã™ã‚ã®ä¸€æ‰‹ï¼šä¸€è¨€ãƒ¡ãƒ¢ã‚’æ·»ãˆã‚‹ã€‚ã€ã„ã¤ã‚‚ã‚ã‚ŠãŒã¨ã†ã€ã ã‘ã§ååˆ†å¼·ã„ã€‚" }
      };

      // ç”»åƒç”Ÿæˆç”¨ãƒ€ãƒŸãƒ¼URLï¼ˆ80x60ï¼‰
      const getImg = (c) => `https://placehold.co/80x60/${c}/FFF?text=Thumb`;

      // â˜…â˜…â˜… ã“ã“ã«ç”»åƒURLã‚’å…¥ã‚Œã¦ãã ã•ã„ â˜…â˜…â˜…
      const recs = {
        A: [
          {n:"yokoå…ˆç”Ÿ", s:"ãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰", t:"åˆºã•ã‚‹ä¸€è¨€", u:"careapp://counselor?code=29678", i:"https://image.careapp.jp/original/app_thumb/4-39ScHJhL"},
          {n:"â¤ï¸ã‚¢ãƒ¬ã‚­â¤ï¸éœŠè¦–ï¼Šç¸çµã³â¤ï¸", s:"ãƒ—ãƒ©ãƒãƒŠãƒ—ãƒ©ã‚¹", t:"æ¸¡ã™æ—¥è¨­è¨ˆ", u:"careapp://counselor?code=8090981", i:"https://image.careapp.jp/original/main_thumb/p4-8090981"}
        ],
        B: [
          {n:"çµè¡£å…ˆç”Ÿ", s:"æ•°ç§˜", t:"è·é›¢æ„Ÿèª¿æ•´", u:"careapp://counselor?code=YUI", i:getImg("1e293b")},
          {n:"è“®å…ˆç”Ÿ", s:"å››æŸ±æ¨å‘½", t:"æ”»ã‚æ™‚åˆ¤æ–­", u:"careapp://counselor?code=REN", i:getImg("334155")}
        ],
        C: [
          {n:"ç´¬å…ˆç”Ÿ", s:"ã‚¿ãƒ­ãƒƒãƒˆ", t:"è¡¨ç¾ã®æ•´ãˆ", u:"careapp://counselor?code=TSUMUGI", i:getImg("1e293b")},
          {n:"æœ”å…ˆç”Ÿ", s:"å æ˜Ÿè¡“", t:"è‡ªå·±ç†è§£", u:"careapp://counselor?code=SAKU", i:getImg("334155")}
        ]
      };

      let state = { step: 0, score: { A:0, B:0, C:0 } };
      const app = document.getElementById("val-app");
      const backBtn = document.getElementById("val-backBtn");
      const resetBtn = document.getElementById("val-resetBtn");

      function render(){
        backBtn.disabled = (state.step === 0);
        
        if(state.step < questions.length){
          const q = questions[state.step];
          const pct = Math.round((state.step / questions.length)*100);
          app.innerHTML = `
            <div class="card">
              <div class="stepRow"><div style="font-size:12px;color:#b8c0dd">Q.${state.step+1}</div><div class="bar"><div style="width:${pct}%"></div></div></div>
              <div class="q">${q.text}</div>
              ${q.choices.map((c,i)=>`<button class="choiceBtn" data-idx="${i}"><div class="dot"></div>${c.l}</button>`).join('')}
            </div>`;
          app.querySelectorAll('.choiceBtn').forEach(b => b.onclick = () => choose(b.dataset.idx));
        } else {
          const win = Object.entries(state.score).sort((a,b)=>b[1]-a[1])[0][0];
          const r = results[win];
          app.innerHTML = `
            <div class="card">
              <div class="resultTitle">${r.title}</div>
              <div class="resultBody">${r.body}</div>
              <div style="background:rgba(124,140,255,.1);padding:10px;border-radius:8px;font-size:13px;margin-bottom:15px">${r.tip}</div>
              <div style="font-size:14px;font-weight:bold;margin-bottom:10px;color:#eef2ff">ç›¸æ€§ã®è‰¯ã„å ã„å¸«</div>
              ${recs[win].map(x=>`
                <div class="recCard">
                  <img class="avatar" src="${x.i}">
                  <div style="flex:1; min-width:0;">
                    <div style="font-weight:bold;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">${x.n}</div>
                    <div style="font-size:11px;color:#7c8cff">${x.s}</div>
                    <div style="font-size:11px;opacity:0.8;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;">${x.t}</div>
                  </div>
                  <a href="${x.u}" class="ctaBtn">è¦‹ã‚‹</a>
                </div>
              `).join('')}
            </div>`;
        }
      }

      function choose(idx){
        const sc = questions[state.step].choices[idx].s;
        Object.keys(sc).forEach(k => state.score[k] += sc[k]);
        state.step++;
        render();
        document.querySelector('.scroll-area').scrollTo(0,0);
      }

      backBtn.onclick = () => { if(state.step>0){ state.step--; state.score={A:0,B:0,C:0}; render(); } };
      resetBtn.onclick = () => { state.step=0; state.score={A:0,B:0,C:0}; render(); };

      render();
    })();
  </script>
</div>

</body>
</html>
